#### 计算动态上下界

- 目标：将界限变为风险大小的一个函数。可以考虑当期的波动率情况。（`df.ewm(span=span0).std()`）

#### 三重障碍法

- 一种新的 labeling 方法：设置了两个水平障碍和一个垂直障碍，水平的由止盈止损限制定义，是估计波动率的动态函数，第三个障碍是持仓起的一定数量的 bars 。

- 前两种情况可以记录为 $1, -1$，剩下的情况可以考虑使用收益率的符号或直接赋值为 $0$ 。使用前者是因为这种情况下也可以实现盈亏。上下界也可以是不对称的。

- 这种标记方式是路径相关的，需要知道中间的价格过程。

- 可以只让其中的某些障碍真正生效。但是部分是没有良好的含义的。可以视目标而定。